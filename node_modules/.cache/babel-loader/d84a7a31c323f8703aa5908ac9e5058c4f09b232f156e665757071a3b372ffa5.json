{"ast":null,"code":"var _jsxFileName = \"/Users/artemtugbaev/Documents/GitHub/SoundtrackofMyLife/src/components/EventFilters.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport useStore from '../store/useStore.jsx';\nimport { debounce } from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = [{\n  value: 'all',\n  label: 'Все',\n  color: 'bg-gray-200 text-gray-800'\n}, {\n  value: 'love',\n  label: 'Любовь',\n  color: 'bg-pink-200 text-pink-800'\n}, {\n  value: 'travel',\n  label: 'Путешествия',\n  color: 'bg-blue-200 text-blue-800'\n}, {\n  value: 'childhood',\n  label: 'Детство',\n  color: 'bg-yellow-200 text-yellow-800'\n}, {\n  value: 'friendship',\n  label: 'Дружба',\n  color: 'bg-green-200 text-green-800'\n}, {\n  value: 'inspiration',\n  label: 'Вдохновение',\n  color: 'bg-purple-200 text-purple-800'\n}, {\n  value: 'other',\n  label: 'Другое',\n  color: 'bg-gray-200 text-gray-800'\n}];\nconst EventFilters = ({\n  onFilterChange\n}) => {\n  _s();\n  const events = useStore(state => state.events);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedYear, setSelectedYear] = useState('all');\n\n  // Получаем уникальные годы из событий\n  const years = [...new Set(events.map(event => event.year))].sort((a, b) => b - a);\n\n  // Создаем отложенную функцию для поиска\n  const debouncedSearch = useCallback(debounce(term => {\n    onFilterChange({\n      searchTerm: term,\n      category: selectedCategory,\n      year: selectedYear\n    });\n  }, 300), [selectedCategory, selectedYear]);\n\n  // Обработчик изменения поискового запроса\n  const handleSearchChange = e => {\n    const term = e.target.value;\n    setSearchTerm(term);\n    debouncedSearch(term);\n  };\n\n  // Обработчики изменения фильтров\n  const handleCategoryChange = e => {\n    const category = e.target.value;\n    setSelectedCategory(category);\n    onFilterChange({\n      searchTerm,\n      category,\n      year: selectedYear\n    });\n  };\n  const handleYearChange = e => {\n    const year = e.target.value;\n    setSelectedYear(year);\n    onFilterChange({\n      searchTerm,\n      category: selectedCategory,\n      year\n    });\n  };\n\n  // Очищаем отложенную функцию при размонтировании\n  useEffect(() => {\n    return () => {\n      debouncedSearch.cancel();\n    };\n  }, [debouncedSearch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-neutral-800 rounded-xl shadow-lg p-6 mb-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\",\n          children: \"\\u041F\\u043E\\u0438\\u0441\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: handleSearchChange,\n          placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u044E...\",\n          className: \"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\",\n          children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedCategory,\n          onChange: handleCategoryChange,\n          className: \"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\",\n          children: CATEGORIES.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.value,\n            children: category.label\n          }, category.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\",\n          children: \"\\u0413\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedYear,\n          onChange: handleYearChange,\n          className: \"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"\\u0412\\u0441\\u0435 \\u0433\\u043E\\u0434\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), years.map(year => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: year,\n            children: year\n          }, year, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(EventFilters, \"CfY8ICFm17tbGNenWxYtHtb79DE=\", false, function () {\n  return [useStore];\n});\n_c = EventFilters;\nexport default EventFilters;\nvar _c;\n$RefreshReg$(_c, \"EventFilters\");","map":{"version":3,"names":["useState","useEffect","useCallback","useStore","debounce","jsxDEV","_jsxDEV","CATEGORIES","value","label","color","EventFilters","onFilterChange","_s","events","state","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedYear","setSelectedYear","years","Set","map","event","year","sort","a","b","debouncedSearch","term","category","handleSearchChange","e","target","handleCategoryChange","handleYearChange","cancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","_c","$RefreshReg$"],"sources":["/Users/artemtugbaev/Documents/GitHub/SoundtrackofMyLife/src/components/EventFilters.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport useStore from '../store/useStore.jsx';\nimport { debounce } from 'lodash';\n\nconst CATEGORIES = [\n  { value: 'all', label: 'Все', color: 'bg-gray-200 text-gray-800' },\n  { value: 'love', label: 'Любовь', color: 'bg-pink-200 text-pink-800' },\n  { value: 'travel', label: 'Путешествия', color: 'bg-blue-200 text-blue-800' },\n  { value: 'childhood', label: 'Детство', color: 'bg-yellow-200 text-yellow-800' },\n  { value: 'friendship', label: 'Дружба', color: 'bg-green-200 text-green-800' },\n  { value: 'inspiration', label: 'Вдохновение', color: 'bg-purple-200 text-purple-800' },\n  { value: 'other', label: 'Другое', color: 'bg-gray-200 text-gray-800' },\n];\n\nconst EventFilters = ({ onFilterChange }) => {\n  const events = useStore((state) => state.events);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedYear, setSelectedYear] = useState('all');\n\n  // Получаем уникальные годы из событий\n  const years = [...new Set(events.map((event) => event.year))].sort((a, b) => b - a);\n\n  // Создаем отложенную функцию для поиска\n  const debouncedSearch = useCallback(\n    debounce((term) => {\n      onFilterChange({\n        searchTerm: term,\n        category: selectedCategory,\n        year: selectedYear,\n      });\n    }, 300),\n    [selectedCategory, selectedYear]\n  );\n\n  // Обработчик изменения поискового запроса\n  const handleSearchChange = (e) => {\n    const term = e.target.value;\n    setSearchTerm(term);\n    debouncedSearch(term);\n  };\n\n  // Обработчики изменения фильтров\n  const handleCategoryChange = (e) => {\n    const category = e.target.value;\n    setSelectedCategory(category);\n    onFilterChange({\n      searchTerm,\n      category,\n      year: selectedYear,\n    });\n  };\n\n  const handleYearChange = (e) => {\n    const year = e.target.value;\n    setSelectedYear(year);\n    onFilterChange({\n      searchTerm,\n      category: selectedCategory,\n      year,\n    });\n  };\n\n  // Очищаем отложенную функцию при размонтировании\n  useEffect(() => {\n    return () => {\n      debouncedSearch.cancel();\n    };\n  }, [debouncedSearch]);\n\n  return (\n    <div className=\"bg-white dark:bg-neutral-800 rounded-xl shadow-lg p-6 mb-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* Поиск */}\n        <div>\n          <label className=\"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\">\n            Поиск\n          </label>\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={handleSearchChange}\n            placeholder=\"Поиск по названию или описанию...\"\n            className=\"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\"\n          />\n        </div>\n\n        {/* Фильтр по категории */}\n        <div>\n          <label className=\"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\">\n            Категория\n          </label>\n          <select\n            value={selectedCategory}\n            onChange={handleCategoryChange}\n            className=\"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\"\n          >\n            {CATEGORIES.map((category) => (\n              <option key={category.value} value={category.value}>\n                {category.label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Фильтр по году */}\n        <div>\n          <label className=\"block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2\">\n            Год\n          </label>\n          <select\n            value={selectedYear}\n            onChange={handleYearChange}\n            className=\"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 dark:text-gray-300 dark:bg-neutral-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\"\n          >\n            <option value=\"all\">Все годы</option>\n            {years.map((year) => (\n              <option key={year} value={year}>\n                {year}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EventFilters; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}